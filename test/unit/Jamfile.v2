#
#   Copyright (c) 2011 Daniel James
#
#   Distributed under the Boost Software License, Version 1.0. (See
#   accompanying file LICENSE_1_0.txt or copy at
#   http://www.boost.org/LICENSE_1_0.txt)
#

import testing ;

project git/quickbook/test/unit-tests
    : requirements
        <include>../../src
        <warnings>all
        <library>/boost//filesystem/<link>static
        <toolset>gcc:<cflags>-g0
        <toolset>darwin:<cflags>-g0
        <toolset>msvc:<cflags>/wd4709
        <toolset>gcc:<define>BOOST_DETAIL_CONTAINER_FWD
        <toolset>darwin:<define>BOOST_DETAIL_CONTAINER_FWD
    ;

alias qbk-rubbish-utf8 : ../../src/rubbish_utf8.cpp ;
alias qbk-native-text : ../../src/native_text.cpp ;
alias qbk-files : ../../src/files.cpp ;
alias qbk-values : ../../src/values.cpp qbk-files ;
alias qbk-post-process : ../../src/post_process.cpp ;
alias qbk-glob : ../../src/glob.cpp qbk-rubbish-utf8 ;

run values_test.cpp qbk-values ;
run post_process_test.cpp qbk-post-process ;
run source_map_test.cpp qbk-files ;
run glob_test.cpp qbk-glob ;

# Copied from spirit
run symbols_tests.cpp ;
run symbols_find_null.cpp ;
